<!doctype html>
<html lang="en">
 <head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Crochet Boutique</title>
  <script src="/_sdk/data_sdk.js"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
        body {
            box-sizing: border-box;
        }
        
        .flower-pattern {
            background-image: url("data:image/svg+xml,%3Csvg width='80' height='80' viewBox='0 0 80 80' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill='none' fill-rule='evenodd'%3E%3Cg fill='%23fce7f3' fill-opacity='0.08'%3E%3C!-- Main flower --%3E%3Cellipse cx='40' cy='25' rx='3' ry='8' transform='rotate(0 40 40)'/%3E%3Cellipse cx='40' cy='25' rx='3' ry='8' transform='rotate(45 40 40)'/%3E%3Cellipse cx='40' cy='25' rx='3' ry='8' transform='rotate(90 40 40)'/%3E%3Cellipse cx='40' cy='25' rx='3' ry='8' transform='rotate(135 40 40)'/%3E%3Ccircle cx='40' cy='40' r='4'/%3E%3C!-- Small flowers --%3E%3Cellipse cx='15' cy='10' rx='2' ry='5' transform='rotate(0 15 15)'/%3E%3Cellipse cx='15' cy='10' rx='2' ry='5' transform='rotate(90 15 15)'/%3E%3Ccircle cx='15' cy='15' r='2'/%3E%3Cellipse cx='65' cy='60' rx='2' ry='5' transform='rotate(45 65 65)'/%3E%3Cellipse cx='65' cy='60' rx='2' ry='5' transform='rotate(135 65 65)'/%3E%3Ccircle cx='65' cy='65' r='2'/%3E%3C/g%3E%3C/g%3E%3C/svg%3E");
        }
        
        .cart-slide {
            transform: translateX(100%);
            transition: transform 0.3s ease-in-out;
        }
        
        .cart-slide.open {
            transform: translateX(0);
        }
        
        .modal-overlay {
            background-color: rgba(0, 0, 0, 0.5);
            backdrop-filter: blur(4px);
        }
        
        .product-card {
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }
        
        .product-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 10px 25px rgba(236, 72, 153, 0.15);
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #ec4899, #be185d);
            transition: all 0.2s ease;
        }
        
        .btn-primary:hover {
            background: linear-gradient(135deg, #be185d, #9d174d);
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #f472b6, #ec4899);
            transition: all 0.2s ease;
        }
        
        .btn-secondary:hover {
            background: linear-gradient(135deg, #ec4899, #db2777);
            transform: translateY(-1px);
        }
    </style>
  <style>@view-transition { navigation: auto; }</style>
 </head>
 <body class="min-h-full bg-gradient-to-br from-pink-50 via-rose-50 to-purple-100 flower-pattern"><!-- Navigation -->
  <nav class="bg-white/90 backdrop-blur-sm shadow-lg border-b-2 border-pink-200 sticky top-0 z-40">
   <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between items-center h-16">
     <div class="flex items-center space-x-2">
      <svg class="w-8 h-8 text-pink-500" fill="currentColor" viewbox="0 0 50 50"><!-- Flower logo --> <ellipse cx="25" cy="15" rx="4" ry="10" fill="#ec4899" transform="rotate(0 25 25)" /> <ellipse cx="25" cy="15" rx="4" ry="10" fill="#f472b6" transform="rotate(60 25 25)" /> <ellipse cx="25" cy="15" rx="4" ry="10" fill="#ec4899" transform="rotate(120 25 25)" /> <ellipse cx="25" cy="15" rx="4" ry="10" fill="#f472b6" transform="rotate(180 25 25)" /> <ellipse cx="25" cy="15" rx="4" ry="10" fill="#ec4899" transform="rotate(240 25 25)" /> <ellipse cx="25" cy="15" rx="4" ry="10" fill="#f472b6" transform="rotate(300 25 25)" /> <circle cx="25" cy="25" r="6" fill="#fbbf24" /> <circle cx="25" cy="25" r="3" fill="#fde047" />
      </svg>
      <h1 id="site-title" class="text-2xl font-bold bg-gradient-to-r from-pink-600 to-purple-600 bg-clip-text text-transparent">Crochet Boutique</h1>
     </div>
     <div class="hidden md:flex items-center space-x-8"><button onclick="showPage('home')" class="text-gray-700 hover:text-pink-600 font-medium transition-colors">Home</button> <button onclick="showPage('shop')" class="text-gray-700 hover:text-pink-600 font-medium transition-colors">Shop</button> <button onclick="showPage('contact')" class="text-gray-700 hover:text-pink-600 font-medium transition-colors">Contact</button>
     </div>
     <div class="flex items-center space-x-4"><button id="auth-btn" onclick="showPage('signin')" class="text-pink-600 hover:text-pink-700 font-medium transition-colors">Sign In</button> <button onclick="toggleCart()" class="relative p-2 text-pink-600 hover:text-pink-700 transition-colors">
       <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4m0 0L7 13m0 0l-1.5 6M7 13l-1.5 6m0 0h9m-9 0V19a2 2 0 002 2h7a2 2 0 002-2v-4" />
       </svg><span id="cart-count" class="absolute -top-1 -right-1 bg-pink-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center">0</span> </button>
     </div>
    </div>
   </div>
  </nav><!-- Home Page -->
  <div id="home-page" class="page"><!-- Hero Section -->
   <section class="relative py-20 px-4">
    <div class="max-w-6xl mx-auto text-center">
     <div class="mb-8">
      <svg class="w-24 h-24 mx-auto text-pink-400 mb-6" fill="currentColor" viewbox="0 0 100 100"><!-- Flower petals --> <ellipse cx="50" cy="30" rx="8" ry="20" fill="#ec4899" transform="rotate(0 50 50)" /> <ellipse cx="50" cy="30" rx="8" ry="20" fill="#f472b6" transform="rotate(45 50 50)" /> <ellipse cx="50" cy="30" rx="8" ry="20" fill="#ec4899" transform="rotate(90 50 50)" /> <ellipse cx="50" cy="30" rx="8" ry="20" fill="#f472b6" transform="rotate(135 50 50)" /> <ellipse cx="50" cy="30" rx="8" ry="20" fill="#ec4899" transform="rotate(180 50 50)" /> <ellipse cx="50" cy="30" rx="8" ry="20" fill="#f472b6" transform="rotate(225 50 50)" /> <ellipse cx="50" cy="30" rx="8" ry="20" fill="#ec4899" transform="rotate(270 50 50)" /> <ellipse cx="50" cy="30" rx="8" ry="20" fill="#f472b6" transform="rotate(315 50 50)" /> <!-- Flower center --> <circle cx="50" cy="50" r="12" fill="#fbbf24" /> <circle cx="50" cy="50" r="8" fill="#fde047" /> <!-- Small dots in center --> <circle cx="47" cy="47" r="1.5" fill="#f59e0b" /> <circle cx="53" cy="47" r="1.5" fill="#f59e0b" /> <circle cx="50" cy="53" r="1.5" fill="#f59e0b" />
      </svg>
      <h2 id="hero-title" class="text-5xl md:text-6xl font-bold text-gray-800 mb-4">Handmade with Love</h2>
      <p id="hero-subtitle" class="text-xl text-gray-600 mb-8">Beautiful crochet creations crafted with care and attention to detail</p><button onclick="showPage('shop')" class="btn-primary text-white px-8 py-4 rounded-full text-lg font-semibold shadow-lg hover:shadow-xl transform hover:scale-105 transition-all duration-200"> ðŸŒ¸ Shop Now ðŸŒ¸ </button>
     </div>
    </div>
   </section><!-- Features -->
   <section class="py-16 px-4 bg-gradient-to-r from-pink-50/80 via-white/60 to-rose-50/80">
    <div class="max-w-6xl mx-auto">
     <div class="grid md:grid-cols-3 gap-8">
      <div class="text-center p-6 rounded-2xl bg-white/70 shadow-lg border-2 border-pink-100">
       <div class="text-4xl mb-4">
        ðŸŒ¸
       </div>
       <h3 class="text-xl font-semibold text-gray-800 mb-2">Premium Yarn</h3>
       <p class="text-gray-600">Only the finest quality yarns for lasting beauty</p>
      </div>
      <div class="text-center p-6 rounded-2xl bg-white/70 shadow-lg border-2 border-pink-100">
       <div class="text-4xl mb-4">
        ðŸŒº
       </div>
       <h3 class="text-xl font-semibold text-gray-800 mb-2">Handcrafted</h3>
       <p class="text-gray-600">Each piece is lovingly made by hand</p>
      </div>
      <div class="text-center p-6 rounded-2xl bg-white/70 shadow-lg border-2 border-pink-100">
       <div class="text-4xl mb-4">
        ðŸŒ·
       </div>
       <h3 class="text-xl font-semibold text-gray-800 mb-2">Fast Delivery</h3>
       <p class="text-gray-600">Quick and secure shipping worldwide</p>
      </div>
     </div>
    </div>
   </section>
  </div><!-- Shop Page -->
  <div id="shop-page" class="page hidden">
   <div id="shop-auth-required" class="text-center py-20">
    <div class="max-w-md mx-auto bg-white/80 rounded-2xl p-8 shadow-lg">
     <svg class="w-16 h-16 mx-auto text-pink-400 mb-4" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z" />
     </svg>
     <h2 class="text-2xl font-bold text-gray-800 mb-4">Sign In Required</h2>
     <p class="text-gray-600 mb-6">Please create an account or sign in to view our beautiful crochet collection</p><button onclick="showPage('signin')" class="btn-primary text-white px-6 py-3 rounded-full font-semibold"> Sign In Now </button>
    </div>
   </div>
   <div id="shop-content" class="hidden py-8 px-4">
    <div class="max-w-7xl mx-auto">
     <h2 class="text-4xl font-bold text-center text-gray-800 mb-12">Our Crochet Collection</h2>
     <div id="products-grid" class="grid md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-8"><!-- Products will be populated by JavaScript -->
     </div>
    </div>
   </div>
  </div><!-- Sign In Page -->
  <div id="signin-page" class="page hidden">
   <div class="min-h-screen flex items-center justify-center py-12 px-4">
    <div class="max-w-md w-full bg-white/90 rounded-2xl shadow-xl p-8">
     <div class="text-center mb-8">
      <svg class="w-16 h-16 mx-auto text-pink-500 mb-4" fill="currentColor" viewbox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
      </svg>
      <h2 class="text-3xl font-bold text-gray-800">Welcome Back</h2>
      <p class="text-gray-600 mt-2">Sign in to your account</p>
     </div>
     <form id="signin-form" class="space-y-6">
      <div><label for="signin-email" class="block text-sm font-medium text-gray-700 mb-2">Email</label> <input type="email" id="signin-email" required class="w-full px-4 py-3 border border-pink-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent">
      </div>
      <div><label for="signin-password" class="block text-sm font-medium text-gray-700 mb-2">Password</label> <input type="password" id="signin-password" required class="w-full px-4 py-3 border border-pink-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent">
      </div><button type="submit" class="w-full btn-primary text-white py-3 rounded-lg font-semibold"> Sign In </button>
     </form>
     <div class="mt-6 text-center">
      <p class="text-gray-600">Don't have an account? <button onclick="showPage('signup')" class="text-pink-600 hover:text-pink-700 font-medium">Sign up</button></p>
     </div>
    </div>
   </div>
  </div><!-- Sign Up Page -->
  <div id="signup-page" class="page hidden">
   <div class="min-h-screen flex items-center justify-center py-12 px-4">
    <div class="max-w-md w-full bg-white/90 rounded-2xl shadow-xl p-8">
     <div class="text-center mb-8">
      <svg class="w-16 h-16 mx-auto text-pink-500 mb-4" fill="currentColor" viewbox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z" />
      </svg>
      <h2 class="text-3xl font-bold text-gray-800">Join Us</h2>
      <p class="text-gray-600 mt-2">Create your account</p>
     </div>
     <form id="signup-form" class="space-y-6">
      <div><label for="signup-name" class="block text-sm font-medium text-gray-700 mb-2">Full Name</label> <input type="text" id="signup-name" required class="w-full px-4 py-3 border border-pink-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent">
      </div>
      <div><label for="signup-email" class="block text-sm font-medium text-gray-700 mb-2">Email</label> <input type="email" id="signup-email" required class="w-full px-4 py-3 border border-pink-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent">
      </div>
      <div><label for="signup-password" class="block text-sm font-medium text-gray-700 mb-2">Password</label> <input type="password" id="signup-password" required class="w-full px-4 py-3 border border-pink-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent">
      </div><button type="submit" class="w-full btn-primary text-white py-3 rounded-lg font-semibold"> Create Account </button>
     </form>
     <div class="mt-6 text-center">
      <p class="text-gray-600">Already have an account? <button onclick="showPage('signin')" class="text-pink-600 hover:text-pink-700 font-medium">Sign in</button></p>
     </div>
    </div>
   </div>
  </div><!-- Contact Page -->
  <div id="contact-page" class="page hidden">
   <div class="py-16 px-4">
    <div class="max-w-4xl mx-auto">
     <div class="text-center mb-12">
      <h2 class="text-4xl font-bold text-gray-800 mb-4">Get in Touch</h2>
      <p class="text-xl text-gray-600">We'd love to hear from you!</p>
     </div>
     <div class="grid md:grid-cols-2 gap-12">
      <div class="bg-white/80 rounded-2xl p-8 shadow-lg">
       <h3 class="text-2xl font-semibold text-gray-800 mb-6">Contact Information</h3>
       <div class="space-y-4">
        <div class="flex items-center space-x-3">
         <svg class="w-6 h-6 text-pink-500" fill="currentColor" viewbox="0 0 24 24"><path d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" />
         </svg><span class="text-gray-700">solanamkachalo@gmail.com</span>
        </div>
        <div class="flex items-center space-x-3">
         <svg class="w-6 h-6 text-pink-500" fill="currentColor" viewbox="0 0 24 24"><path d="M6.62 10.79c1.44 2.83 3.76 5.14 6.59 6.59l2.2-2.2c.27-.27.67-.36 1.02-.24 1.12.37 2.33.57 3.57.57.55 0 1 .45 1 1V20c0 .55-.45 1-1 1-9.39 0-17-7.61-17-17 0-.55.45-1 1-1h3.5c.55 0 1 .45 1 1 0 1.25.2 2.45.57 3.57.11.35.03.74-.25 1.02l-2.2 2.2z" />
         </svg><span class="text-gray-700">03274857106</span>
        </div>
        <div class="flex items-center space-x-3">
         <svg class="w-6 h-6 text-pink-500" fill="currentColor" viewbox="0 0 24 24"><path d="M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zm0 9.5c-1.38 0-2.5-1.12-2.5-2.5s1.12-2.5 2.5-2.5 2.5 1.12 2.5 2.5-1.12 2.5-2.5 2.5z" />
         </svg><span class="text-gray-700">Lahore, Pakistan</span>
        </div>
       </div>
      </div>
      <div class="bg-white/80 rounded-2xl p-8 shadow-lg">
       <h3 class="text-2xl font-semibold text-gray-800 mb-6">Send us a Message</h3>
       <form class="space-y-4">
        <div><label class="block text-sm font-medium text-gray-700 mb-2">Name</label> <input type="text" class="w-full px-4 py-3 border border-pink-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent">
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-2">Email</label> <input type="email" class="w-full px-4 py-3 border border-pink-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent">
        </div>
        <div><label class="block text-sm font-medium text-gray-700 mb-2">Message</label> <textarea rows="4" class="w-full px-4 py-3 border border-pink-200 rounded-lg focus:ring-2 focus:ring-pink-500 focus:border-transparent"></textarea>
        </div><button type="submit" class="w-full btn-primary text-white py-3 rounded-lg font-semibold"> Send Message </button>
       </form>
      </div>
     </div>
    </div>
   </div>
  </div><!-- Cart Sidebar -->
  <div id="cart-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-50 hidden" onclick="toggleCart()"></div>
  <div id="cart-sidebar" class="fixed right-0 top-0 h-full w-96 bg-white shadow-2xl z-50 cart-slide">
   <div class="p-6 border-b border-gray-200">
    <div class="flex items-center justify-between">
     <h3 class="text-xl font-semibold text-gray-800">Shopping Cart</h3><button onclick="toggleCart()" class="text-gray-500 hover:text-gray-700">
      <svg class="w-6 h-6" fill="none" stroke="currentColor" viewbox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
      </svg></button>
    </div>
   </div>
   <div id="cart-items" class="flex-1 overflow-y-auto p-6">
    <div id="empty-cart" class="text-center py-12">
     <svg class="w-16 h-16 mx-auto text-gray-300 mb-4" fill="currentColor" viewbox="0 0 24 24"><path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z" />
     </svg>
     <p class="text-gray-500">Your cart is empty</p>
    </div>
   </div>
   <div id="cart-footer" class="border-t border-gray-200 p-6 hidden">
    <div class="flex justify-between items-center mb-4"><span class="text-lg font-semibold text-gray-800">Total:</span> <span id="cart-total" class="text-xl font-bold text-pink-600">$0.00</span>
    </div><button onclick="placeOrder()" class="w-full btn-primary text-white py-3 rounded-lg font-semibold"> Place Order via WhatsApp </button>
   </div>
  </div>
  <script>
        // Global state
        let currentUser = null;
        let cart = [];
        let users = [];
        let isCartOpen = false;

        // Configuration
        const defaultConfig = {
            site_title: "Crochet Boutique",
            hero_title: "Handmade with Love",
            hero_subtitle: "Beautiful crochet creations crafted with care and attention to detail",
            whatsapp_number: "+1234567890"
        };

        // Products data with crochet SVG images
        const products = [
            {
                id: 1,
                name: "Flower Granny Square",
                price: 25.99,
                image: `<svg viewBox="0 0 200 200" class="w-full h-48">
                    <rect width="200" height="200" fill="#fdf2f8"/>
                    <circle cx="100" cy="100" r="80" fill="none" stroke="#ec4899" stroke-width="3"/>
                    <circle cx="100" cy="60" r="15" fill="#f472b6"/>
                    <circle cx="140" cy="100" r="15" fill="#f472b6"/>
                    <circle cx="100" cy="140" r="15" fill="#f472b6"/>
                    <circle cx="60" cy="100" r="15" fill="#f472b6"/>
                    <circle cx="100" cy="100" r="20" fill="#fbbf24"/>
                    <path d="M85 85 Q100 70 115 85 Q130 100 115 115 Q100 130 85 115 Q70 100 85 85" fill="#fde047"/>
                </svg>`
            },
            {
                id: 2,
                name: "Baby Blanket",
                price: 89.99,
                image: `<svg viewBox="0 0 200 200" class="w-full h-48">
                    <rect width="200" height="200" fill="#fef3c7"/>
                    <rect x="20" y="30" width="160" height="140" fill="#fbbf24" rx="10"/>
                    <rect x="30" y="40" width="140" height="120" fill="#fde047" rx="8"/>
                    <circle cx="60" cy="70" r="8" fill="#f472b6"/>
                    <circle cx="100" cy="70" r="8" fill="#a78bfa"/>
                    <circle cx="140" cy="70" r="8" fill="#34d399"/>
                    <circle cx="60" cy="110" r="8" fill="#34d399"/>
                    <circle cx="100" cy="110" r="8" fill="#f472b6"/>
                    <circle cx="140" cy="110" r="8" fill="#a78bfa"/>
                    <circle cx="60" cy="150" r="8" fill="#a78bfa"/>
                    <circle cx="100" cy="150" r="8" fill="#34d399"/>
                    <circle cx="140" cy="150" r="8" fill="#f472b6"/>
                </svg>`
            },
            {
                id: 3,
                name: "Amigurumi Bear",
                price: 34.99,
                image: `<svg viewBox="0 0 200 200" class="w-full h-48">
                    <rect width="200" height="200" fill="#fef7ed"/>
                    <circle cx="100" cy="120" r="50" fill="#d97706"/>
                    <circle cx="100" cy="80" r="35" fill="#d97706"/>
                    <circle cx="75" cy="65" r="15" fill="#d97706"/>
                    <circle cx="125" cy="65" r="15" fill="#d97706"/>
                    <circle cx="90" cy="75" r="3" fill="#000"/>
                    <circle cx="110" cy="75" r="3" fill="#000"/>
                    <ellipse cx="100" cy="85" rx="8" ry="5" fill="#000"/>
                    <path d="M95 90 Q100 95 105 90" stroke="#000" stroke-width="2" fill="none"/>
                    <circle cx="80" cy="140" r="12" fill="#d97706"/>
                    <circle cx="120" cy="140" r="12" fill="#d97706"/>
                </svg>`
            },
            {
                id: 4,
                name: "Lace Doily",
                price: 19.99,
                image: `<svg viewBox="0 0 200 200" class="w-full h-48">
                    <rect width="200" height="200" fill="#f8fafc"/>
                    <circle cx="100" cy="100" r="80" fill="none" stroke="#e2e8f0" stroke-width="2"/>
                    <circle cx="100" cy="100" r="60" fill="none" stroke="#cbd5e1" stroke-width="1"/>
                    <circle cx="100" cy="100" r="40" fill="none" stroke="#94a3b8" stroke-width="1"/>
                    <circle cx="100" cy="100" r="20" fill="none" stroke="#64748b" stroke-width="1"/>
                    <g stroke="#64748b" stroke-width="1" fill="none">
                        <path d="M100 20 L100 180 M20 100 L180 100"/>
                        <path d="M156 44 L44 156 M44 44 L156 156"/>
                        <circle cx="100" cy="40" r="3" fill="#f472b6"/>
                        <circle cx="160" cy="100" r="3" fill="#f472b6"/>
                        <circle cx="100" cy="160" r="3" fill="#f472b6"/>
                        <circle cx="40" cy="100" r="3" fill="#f472b6"/>
                    </g>
                </svg>`
            },
            {
                id: 5,
                name: "Flower Headband",
                price: 15.99,
                image: `<svg viewBox="0 0 200 200" class="w-full h-48">
                    <rect width="200" height="200" fill="#fdf4ff"/>
                    <ellipse cx="100" cy="100" rx="80" ry="20" fill="#a855f7"/>
                    <circle cx="70" cy="100" r="12" fill="#ec4899"/>
                    <circle cx="100" cy="100" r="12" fill="#f472b6"/>
                    <circle cx="130" cy="100" r="12" fill="#ec4899"/>
                    <g fill="#fbbf24">
                        <circle cx="65" cy="95" r="3"/>
                        <circle cx="75" cy="95" r="3"/>
                        <circle cx="70" cy="105" r="3"/>
                        <circle cx="95" cy="95" r="3"/>
                        <circle cx="105" cy="95" r="3"/>
                        <circle cx="100" cy="105" r="3"/>
                        <circle cx="125" cy="95" r="3"/>
                        <circle cx="135" cy="95" r="3"/>
                        <circle cx="130" cy="105" r="3"/>
                    </g>
                </svg>`
            },
            {
                id: 6,
                name: "Cozy Scarf",
                price: 42.99,
                image: `<svg viewBox="0 0 200 200" class="w-full h-48">
                    <rect width="200" height="200" fill="#f0f9ff"/>
                    <path d="M50 30 Q100 20 150 30 L150 170 Q100 180 50 170 Z" fill="#0ea5e9"/>
                    <rect x="60" y="40" width="80" height="10" fill="#38bdf8"/>
                    <rect x="60" y="60" width="80" height="10" fill="#0284c7"/>
                    <rect x="60" y="80" width="80" height="10" fill="#38bdf8"/>
                    <rect x="60" y="100" width="80" height="10" fill="#0284c7"/>
                    <rect x="60" y="120" width="80" height="10" fill="#38bdf8"/>
                    <rect x="60" y="140" width="80" height="10" fill="#0284c7"/>
                    <rect x="60" y="160" width="80" height="10" fill="#38bdf8"/>
                    <circle cx="70" cy="45" r="2" fill="#fbbf24"/>
                    <circle cx="130" cy="45" r="2" fill="#fbbf24"/>
                </svg>`
            }
        ];

        // Data SDK handler
        const dataHandler = {
            onDataChanged(data) {
                users = data;
            }
        };

        // Element SDK configuration
        async function onConfigChange(config) {
            document.getElementById('site-title').textContent = config.site_title || defaultConfig.site_title;
            document.getElementById('hero-title').textContent = config.hero_title || defaultConfig.hero_title;
            document.getElementById('hero-subtitle').textContent = config.hero_subtitle || defaultConfig.hero_subtitle;
        }

        function mapToCapabilities(config) {
            return {
                recolorables: [],
                borderables: [],
                fontEditable: undefined,
                fontSizeable: undefined
            };
        }

        function mapToEditPanelValues(config) {
            return new Map([
                ["site_title", config.site_title || defaultConfig.site_title],
                ["hero_title", config.hero_title || defaultConfig.hero_title],
                ["hero_subtitle", config.hero_subtitle || defaultConfig.hero_subtitle],
                ["whatsapp_number", config.whatsapp_number || defaultConfig.whatsapp_number]
            ]);
        }

        // Initialize SDKs
        async function initializeApp() {
            if (window.dataSdk) {
                const initResult = await window.dataSdk.init(dataHandler);
                if (!initResult.isOk) {
                    console.error("Failed to initialize data SDK");
                }
            }

            if (window.elementSdk) {
                await window.elementSdk.init({
                    defaultConfig,
                    onConfigChange,
                    mapToCapabilities,
                    mapToEditPanelValues
                });
            }

            renderProducts();
            updateAuthButton();
        }

        // Page navigation
        function showPage(pageId) {
            document.querySelectorAll('.page').forEach(page => page.classList.add('hidden'));
            document.getElementById(pageId + '-page').classList.remove('hidden');

            if (pageId === 'shop') {
                if (currentUser) {
                    document.getElementById('shop-auth-required').classList.add('hidden');
                    document.getElementById('shop-content').classList.remove('hidden');
                } else {
                    document.getElementById('shop-auth-required').classList.remove('hidden');
                    document.getElementById('shop-content').classList.add('hidden');
                }
            }
        }

        // Authentication
        function updateAuthButton() {
            const authBtn = document.getElementById('auth-btn');
            if (currentUser) {
                authBtn.textContent = `Hi, ${currentUser.name}`;
                authBtn.onclick = logout;
            } else {
                authBtn.textContent = 'Sign In';
                authBtn.onclick = () => showPage('signin');
            }
        }

        function logout() {
            currentUser = null;
            updateAuthButton();
            showPage('home');
        }

        // Sign up form
        document.getElementById('signup-form').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const name = document.getElementById('signup-name').value;
            const email = document.getElementById('signup-email').value;
            const password = document.getElementById('signup-password').value;

            // Check if user already exists
            const existingUser = users.find(user => user.email === email);
            if (existingUser) {
                showMessage('User already exists with this email', 'error');
                return;
            }

            const userData = {
                id: Date.now().toString(),
                name,
                email,
                password,
                createdAt: new Date().toISOString()
            };

            if (window.dataSdk) {
                const result = await window.dataSdk.create(userData);
                if (result.isOk) {
                    currentUser = userData;
                    updateAuthButton();
                    showPage('shop');
                    showMessage('Account created successfully!', 'success');
                } else {
                    showMessage('Failed to create account. Please try again.', 'error');
                }
            }
        });

        // Sign in form
        document.getElementById('signin-form').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('signin-email').value;
            const password = document.getElementById('signin-password').value;

            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                currentUser = user;
                updateAuthButton();
                showPage('shop');
                showMessage('Welcome back!', 'success');
            } else {
                showMessage('Invalid email or password', 'error');
            }
        });

        // Product rendering
        function renderProducts() {
            const grid = document.getElementById('products-grid');
            grid.innerHTML = products.map(product => `
                <div class="product-card bg-white/90 rounded-2xl shadow-lg overflow-hidden">
                    <div class="p-4">
                        ${product.image}
                    </div>
                    <div class="p-6">
                        <h3 class="text-xl font-semibold text-gray-800 mb-2">${product.name}</h3>
                        <p class="text-2xl font-bold text-pink-600 mb-4">$${product.price}</p>
                        <div class="space-y-2">
                            <button onclick="addToCart(${product.id})" class="w-full btn-secondary text-white py-2 rounded-lg font-medium">
                                Add to Cart ðŸ›’
                            </button>
                            <button onclick="orderNow(${product.id})" class="w-full btn-primary text-white py-2 rounded-lg font-medium">
                                Order Now ðŸ“±
                            </button>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // Cart functionality
        function addToCart(productId) {
            const product = products.find(p => p.id === productId);
            const existingItem = cart.find(item => item.id === productId);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({ ...product, quantity: 1 });
            }
            
            updateCartUI();
            showMessage(`${product.name} added to cart!`, 'success');
        }

        function removeFromCart(productId) {
            cart = cart.filter(item => item.id !== productId);
            updateCartUI();
        }

        function updateCartQuantity(productId, change) {
            const item = cart.find(item => item.id === productId);
            if (item) {
                item.quantity += change;
                if (item.quantity <= 0) {
                    removeFromCart(productId);
                } else {
                    updateCartUI();
                }
            }
        }

        function updateCartUI() {
            const cartCount = document.getElementById('cart-count');
            const cartItems = document.getElementById('cart-items');
            const cartFooter = document.getElementById('cart-footer');
            const emptyCart = document.getElementById('empty-cart');
            
            const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
            const totalPrice = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            cartCount.textContent = totalItems;
            
            if (cart.length === 0) {
                emptyCart.classList.remove('hidden');
                cartFooter.classList.add('hidden');
                cartItems.innerHTML = '<div id="empty-cart" class="text-center py-12"><svg class="w-16 h-16 mx-auto text-gray-300 mb-4" fill="currentColor" viewBox="0 0 24 24"><path d="M7 4V2C7 1.45 7.45 1 8 1H16C16.55 1 17 1.45 17 2V4H20C20.55 4 21 4.45 21 5S20.55 6 20 6H19V19C19 20.1 18.1 21 17 21H7C5.9 21 5 20.1 5 19V6H4C3.45 6 3 5.55 3 5S3.45 4 4 4H7ZM9 3V4H15V3H9ZM7 6V19H17V6H7Z"/></svg><p class="text-gray-500">Your cart is empty</p></div>';
            } else {
                emptyCart.classList.add('hidden');
                cartFooter.classList.remove('hidden');
                
                cartItems.innerHTML = cart.map(item => `
                    <div class="flex items-center space-x-4 py-4 border-b border-gray-100">
                        <div class="w-16 h-16 bg-pink-50 rounded-lg flex items-center justify-center">
                            <span class="text-2xl">ðŸ§¶</span>
                        </div>
                        <div class="flex-1">
                            <h4 class="font-medium text-gray-800">${item.name}</h4>
                            <p class="text-pink-600 font-semibold">$${item.price}</p>
                        </div>
                        <div class="flex items-center space-x-2">
                            <button onclick="updateCartQuantity(${item.id}, -1)" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-gray-200">-</button>
                            <span class="w-8 text-center font-medium">${item.quantity}</span>
                            <button onclick="updateCartQuantity(${item.id}, 1)" class="w-8 h-8 rounded-full bg-gray-100 flex items-center justify-center text-gray-600 hover:bg-gray-200">+</button>
                        </div>
                        <button onclick="removeFromCart(${item.id})" class="text-red-500 hover:text-red-700">
                            <svg class="w-5 h-5" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"/>
                            </svg>
                        </button>
                    </div>
                `).join('');
                
                document.getElementById('cart-total').textContent = `$${totalPrice.toFixed(2)}`;
            }
        }

        function toggleCart() {
            const overlay = document.getElementById('cart-overlay');
            const sidebar = document.getElementById('cart-sidebar');
            
            isCartOpen = !isCartOpen;
            
            if (isCartOpen) {
                overlay.classList.remove('hidden');
                sidebar.classList.add('open');
            } else {
                overlay.classList.add('hidden');
                sidebar.classList.remove('open');
            }
        }

        // WhatsApp integration
        function orderNow(productId) {
            const product = products.find(p => p.id === productId);
            const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
            const whatsappNumber = config.whatsapp_number || defaultConfig.whatsapp_number;
            const message = `Hi! I'd like to order: ${product.name} - $${product.price}`;
            const whatsappUrl = `https://wa.me/${whatsappNumber.replace(/[^0-9]/g, '')}?text=${encodeURIComponent(message)}`;
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
        }

        function placeOrder() {
            if (cart.length === 0) return;
            
            const config = window.elementSdk ? window.elementSdk.config : defaultConfig;
            const whatsappNumber = config.whatsapp_number || defaultConfig.whatsapp_number;
            const orderDetails = cart.map(item => `${item.name} x${item.quantity} - $${(item.price * item.quantity).toFixed(2)}`).join('\n');
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            const message = `Hi! I'd like to place an order:\n\n${orderDetails}\n\nTotal: $${total.toFixed(2)}`;
            const whatsappUrl = `https://wa.me/${whatsappNumber.replace(/[^0-9]/g, '')}?text=${encodeURIComponent(message)}`;
            
            window.open(whatsappUrl, '_blank', 'noopener,noreferrer');
            cart = [];
            updateCartUI();
            toggleCart();
        }

        // Message system
        function showMessage(message, type) {
            const messageDiv = document.createElement('div');
            messageDiv.className = `fixed top-4 right-4 z-50 px-6 py-3 rounded-lg shadow-lg ${type === 'success' ? 'bg-green-500' : 'bg-red-500'} text-white`;
            messageDiv.textContent = message;
            document.body.appendChild(messageDiv);
            
            setTimeout(() => {
                messageDiv.remove();
            }, 3000); 
        }

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', initializeApp);
    </script>
 <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'998d73f226d257a7',t:'MTc2MjE4OTQ4OS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>